

// ğŸ“ MyVoucher.tsx ë‚´ë¶€

import UseVoucherDrawer from '@views/mypage/myvoucher/components/UseVoucherDrawer';
import { useState } from 'react';

export default function MyVoucher() {
  // ğŸ†• ì„ íƒëœ ë°”ìš°ì²˜ì™€ Drawer ì—´ë¦¼ ìƒíƒœ ê´€ë¦¬
  const [selectedVoucher, setSelectedVoucher] = useState<VoucherCardProps | null>(null);
  const [isDrawerOpen, setDrawerOpen] = useState(false);

  ...

  return (
    <Container showBack title="ë§ˆì´ ë°”ìš°ì²˜">
      <Contents className={styles.layout}>
        {/* ìµœìƒë‹¨ / í•˜ë‹¨ íƒ­ */}
        <Tabs ... />
        <Tabs ... />

        {filteredListData.length > 0 ? (
          <>
            {/* ğŸ†• í´ë¦­ ì‹œ Drawer ë„ìš°ë„ë¡ */}
            <VoucherCardList
              data={filteredListData}
              onCardClick={(card) => {
                setSelectedVoucher(card);
                setDrawerOpen(true);
              }}
            />
            <div className={styles.btns}>
              <Button size="small" suffixIcon="arrowDown" variant="tertiary" round>
                ë”ë³´ê¸°
              </Button>
            </div>
          </>
        ) : (
          <div className={styles.hasEmpty}>
            <Empty title="ë‚´ì—­ì´ ì—†ì–´ìš”" />
          </div>
        )}

        <Line color="bg2" />
        <Collapse ... />
      </Contents>

      <ButtonArea type="sticky">
        <Button variant="primary" size="large">ë°”ìš°ì²˜ ì „ì²´ë³´ê¸°</Button>
      </ButtonArea>

      {/* ğŸ†• Drawer ì¶”ê°€ */}
      <UseVoucherDrawer
        isOpen={isDrawerOpen}
        onClose={() => setDrawerOpen(false)}
        voucherData={selectedVoucher ?? undefined}
      />
    </Container>
  );
}



// ğŸ“ UseVoucherDrawer.tsx ë‚´ë¶€

export default function UseVoucherDrawer({ isOpen, onClose, voucherData }: UseVoucherDrawerProps) {
  const baseData = voucherData ?? mockVoucherCard;

  const voucherStatus = baseData.status ?? 'available'; // ğŸ†• ì‹¤ì œ ìƒíƒœ ì‚¬ìš©
  const isAvailable = voucherStatus === 'available';

  let detailItems: VoucherDetailInfoItem[];
  switch (voucherStatus) {
    case 'available':
      detailItems = case1Items;
      break;
    case 'used':
      detailItems = case2Items;
      break;
    case 'expired':
      detailItems = case3Items;
      break;
    default:
      detailItems = [];
  }

  ...
}