@use '@shared/styles/abstracts' as *;
@use 'sass:list';

// prettier-ignore
$text-gradient: (
  1: (#2CFFAD, #FFCAFC),
  2: (#FFB9FB, #6EDBFF),
  3: (#FFA4A4, #FFF265),
  4: (#6EDBFF, #FFA4A4),
  5: (#FFF265, #2CFFAD)
);

.root {
  max-width: 100%;
  min-height: rem(46px);
  padding: var(--ncp-spacing-x3) var(--ncp-spacing-x10);
  display: inline-flex;
  align-items: center;
  border-radius: var(--ncp-border-radius-max);
  background-color: var(--ncp-color-foreground);
}

.text {
  @include ellipsis(1);
  font-weight: var(--ncp-font-weight-medium);
  color: var(--ncp-color-background);
  word-break: break-all;

  @each $key, $pair in $text-gradient {
    $start-key: list.nth($pair, 1);
    $end-key: list.nth($pair, 2);

    &.gradient#{$key} {
      background: linear-gradient(90deg, $start-key 0%, $end-key 100%);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
  }
}

$bubble-tail-image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='15' fill='none'%3E%3Cpath fill='%23222' d='M19.9998 6.7656V15H1.0984C.0155 15-.0658 14.0562.0291 13.584.3854 11.9531 1.6004 11.7151 2.4998 10 4.073 7 1.5261 1.352 1.0984 0l18.9014 6.7656Z'/%3E%3C/svg%3E";
.tail {
  position: relative;
  z-index: 0;

  &::before {
    @include el-pseudo(100%, calc(15 / 46 * 100%));
    position: absolute;
    bottom: 0;
    left: 0;
    mask: url($bubble-tail-image) no-repeat left bottom / contain;
    -webkit-mask: url($bubble-tail-image) no-repeat left bottom / contain;
    background-color: inherit;
    z-index: -1;
  }
}
