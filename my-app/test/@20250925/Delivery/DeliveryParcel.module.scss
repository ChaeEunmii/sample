@use '@shared/styles/abstracts' as *;

/* DeliveryParcel */
.title {
  margin-bottom: 0;
}
// 프로세스
.process {
  position: relative;
  max-width: rem(343px);
  margin: 0 auto;
  @include flex($h: space-between) {
    gap: var(--ncp-spacing-x12);
  }
  margin-top: var(--ncp-spacing-x8);
  .arrow {
    color: var(--ncp-color-gray-500);
    position: absolute;
    top: rem(26px);
    right: -50%;
    transform: translateX(-6px);
  }
  & > li {
    position: relative;
    @include flex($d: column, $h: center, $v: center) {
      gap: var(--ncp-spacing-x4);
    }

    .mark {
      @include flex($display: inline-flex, $v: center, $h: center);
      width: rem(60px);
      height: rem(60px);
      color: var(--ncp-color-gray-500);
      font-size: var(--ncp-font-size-10);
      line-height: var(--ncp-line-height-fit);
      font-weight: var(--ncp-font-weight-semibold);
      position: relative;
      top: rem(1px);
      .icon {
        font-size: var(--ncp-font-size-32);
      }
      .arrow {
        color: var(--ncp-color-gray-500);
      }
    }
    .tit {
      font-size: var(--ncp-font-size-12);
      line-height: var(--ncp-line-height-16);
      font-weight: var(--ncp-font-weight-medium);
      color: var(--ncp-color-gray-500);
    }
    &.active {
      .mark {
        border-radius: var(--ncp-border-radius-max);
        background-color: var(--ncp-color-foreground);
        color: var(--ncp-color-background);
      }
      .tit {
        color: var(--ncp-color-foreground);
      }
    }
  }
}

// 송장번호
.number {
  @include flex($v: center) {
    gap: var(--ncp-spacing-x4);
  }
  .copy {
    color: var(--ncp-color-gray-500);
  }
}

// 히스토리
.history {
  --history-active-check-icon: #{icon('check')};
  --history-item-circle-size: #{rem(8px)};

  margin-top: var(--ncp-spacing-x16);
  position: relative;
  @include flex($d: column);

  .historyItem {
    position: relative;
    padding-left: rem(36px);
    padding-bottom: rem(24px);
    font-size: var(--ncp-font-size-14);
    line-height: var(--ncp-line-height-20);
    .place {
      @include flex(flex, $v: flex-start, $w: wrap);
      column-gap: var(--ncp-spacing-x3);
      span {
        display: inline-block;
        &:not(:last-child) {
          @include separator();
        }
      }
      .part {
        color: var(--ncp-color-gray-500);
      }
    }
    // 최신 이력 텍스트 강조
    &.updated {
      .place {
        .part {
          color: var(--ncp-color-gray-900);
          font-weight: var(--ncp-font-weight-medium);
        }
      }
    }
    // 우측내용
    .wrap {
      position: relative;
      width: 100%;
      @include flex($d: column) {
        gap: var(--ncp-spacing-x2);
      }
      .time {
        display: block;
        font-size: var(--ncp-font-size-12);
        line-height: var(--ncp-line-height-16);
        color: var(--ncp-color-gray-500);
      }
    }
    // 왼쪽 타임라인 회색
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: rem(10px);
      width: rem(1px);
      height: 100%;
      background-color: var(--ncp-color-gray-150);
    }
    &:first-child::before {
      top: rem(6px);
    }
    &:last-child::before {
      height: rem(6px);
    }

    // 공통 after (원형 표시)
    &::after {
      content: '';
      position: absolute;
      top: rem(6px);
      left: rem(6px);
      width: var(--history-item-circle-size);
      height: var(--history-item-circle-size);
      border-radius: 50%;
      background-color: var(--ncp-color-gray-150);
    }
    // 현재상태
    .now {
      --history-now-check-icon: #{icon('checkbox')};

      position: absolute;
      left: 0;
      top: 0;
      z-index: 1;
      width: rem(20px);
      height: rem(20px);
      border-radius: 50%;
      background-color: var(--ncp-color-foreground);
      &::before {
        content: '';
        @include flex($v: center, $h: center);
        width: 100%;
        height: 100%;
        mask-image: var(--history-now-check-icon);
        mask-position: 50% 0;
        mask-repeat: no-repeat;
        mask-size: contain;
        background-color: var(--ncp-color-background);
      }
    }
  }
}

// InfoList content 안에 풀로 채우는 스타일
.full {
  width: 100%;
  flex: 1;
  @include flex() {
    gap: var(--ncp-spacing-x4);
  }
  & > :first-child {
    flex: 1;
  }
  & > :last-child {
    flex-shrink: 0;
    flex-grow: 0;
  }
}
